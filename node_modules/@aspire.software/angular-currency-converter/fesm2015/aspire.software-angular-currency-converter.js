import{Injectable,defineInjectable,inject}from"@angular/core";import{HttpClient}from"@angular/common/http";import{pipe,throwError}from"rxjs";import{map,catchError}from"rxjs/operators";const apisConfigurations={host:"https://api.exchangeratesapi.io",currencyRateSource:[{id:1,label:"Latest",key:"latest",value:"latest"},{id:2,label:"History",key:"history",value:"history"}]};class CurrencyConversionService{constructor(e){this.http=e,this.convertedRates=[],this.apisConfigurations=apisConfigurations}getApisConfigurations(){return pipe(this.apisConfigurations)}getCurrencyRates(e){return this.http.get(e).pipe(map(e=>e,catchError(this.handleError)))}handleError(e){return throwError(e)}convertCurrency(e,r,t,o,n){this.convertedRates=[];const i=o,a=n,s=parseFloat(r).toFixed(2),c=parseFloat(i).toFixed(2),p=1*c/r,u=parseFloat(e*c/r).toFixed(2),C=parseFloat(p).toFixed(2);return this.convertedRates.push({amount:e,baseCurrencyCode:t,baseCurrencyRate:s,countryCurrencyCode:a,currencyRate:c,convertedCountryRate:u,oneUnitConversion:C}),this.convertedRates}}CurrencyConversionService.decorators=[{type:Injectable,args:[{providedIn:"root"}]}],CurrencyConversionService.ctorParameters=(()=>[{type:HttpClient}]),CurrencyConversionService.ngInjectableDef=defineInjectable({factory:function(){return new CurrencyConversionService(inject(HttpClient))},token:CurrencyConversionService,providedIn:"root"});export{CurrencyConversionService};