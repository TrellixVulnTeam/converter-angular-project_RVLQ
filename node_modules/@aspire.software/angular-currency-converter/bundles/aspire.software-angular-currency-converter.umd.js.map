{"version":3,"file":"aspire.software-angular-currency-converter.umd.js.map","sources":["ng://@aspire.software/angular-currency-converter/shared/config.ts","ng://@aspire.software/angular-currency-converter/services/currency-conversion.service.ts"],"sourcesContent":["/* Do not change anything here */\nexport const apisConfigurations = {\n    host: 'https://api.exchangeratesapi.io',\n    currencyRateSource: [\n        { id: 1 , label: 'Latest', key: 'latest', value: 'latest'},\n        { id: 2 , label: 'History', key: 'history', value: 'history'}\n    ]\n };","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, pipe, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { apisConfigurations } from '../shared/config';\n@Injectable({\n  providedIn: 'root'\n})\nexport class CurrencyConversionService {\n  constructor(private http: HttpClient) { }\n  public url: string;\n  public convertedRates: any = [];  // Store converted values\n  public apisConfigurations: any = apisConfigurations;\n  /*\n  Get currency apis configurations\n  */\n  getApisConfigurations() {\n    return pipe(this.apisConfigurations);\n  }\n  /*\n  Get currency rate from specified url\n  */\n  getCurrencyRates(url: string): Observable<any> {\n    return this.http.get(url)\n      .pipe(map((data: Response) => data, catchError(this.handleError)));\n  }\n  handleError(error: HttpErrorResponse) {\n    return throwError(error);\n  }\n  /*\n  convert currencies & accept parameter of amount, baseCurrencyRate , baseCurrencyCode, targetCurrencyRate, targetCurrencyCode\n  */\n  convertCurrency(amount: number, baseCurrencyRate: number, baseCurrencyCode: string, targetCurrencyRate: number, targetCurrencyCode: string) {\n    this.convertedRates = []; // Clear array before convert currencies\n    const baseCurrencyRates: any = baseCurrencyRate; // Selected base currency rate\n    const targetCurrencyRates: any = targetCurrencyRate; // Selected target currency rate\n    const countryCurrencyCode: any = targetCurrencyCode; // Targeted currency code\n    const baseRate = parseFloat(baseCurrencyRates).toFixed(2); // // Fixed to two decimal number\n    const rates: any = parseFloat(targetCurrencyRates).toFixed(2);\n    const rateConversion: any = (amount * rates) / baseCurrencyRate; // Conversion Formula\n    const oneUnitConversion: any = (1 * rates) / baseCurrencyRate;\n    const parsedConversionRate = parseFloat(rateConversion).toFixed(2);\n    const parsedOneUnitRate = parseFloat(oneUnitConversion).toFixed(2);\n    // tslint:disable-next-line:object-literal-shorthand\n    this.convertedRates.push({ amount: amount, baseCurrencyCode: baseCurrencyCode, baseCurrencyRate: baseRate, countryCurrencyCode: countryCurrencyCode, currencyRate: rates, convertedCountryRate: parsedConversionRate, oneUnitConversion: parsedOneUnitRate });\n    return this.convertedRates;\n  }\n}"],"names":["pipe","map","catchError","throwError","Injectable","HttpClient"],"mappings":";;;;;;;;;;;;;AACA,QAAa,kBAAkB,GAAG;QAC9B,IAAI,EAAE,iCAAiC;QACvC,kBAAkB,EAAE;YAChB,EAAE,EAAE,EAAE,CAAC,EAAG,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAC;YAC1D,EAAE,EAAE,EAAE,CAAC,EAAG,KAAK,EAAE,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAC;SAChE;KACH;;;;;;;ACPF;QASE,mCAAoB,IAAgB;YAAhB,SAAI,GAAJ,IAAI,CAAY;YAE7B,mBAAc,GAAQ,EAAE,CAAC;;YACzB,uBAAkB,GAAQ,kBAAkB,CAAC;SAHX;;;;;;;;;;QAOzC,yDAAqB;;;;;;YAArB;gBACE,OAAOA,SAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;aACtC;;;;;;;;;;;QAID,oDAAgB;;;;;;;YAAhB,UAAiB,GAAW;gBAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;qBACtB,IAAI,CAACC,aAAG;;;eAAC,UAAC,IAAc,IAAK,OAAA,IAAI,GAAA,GAAEC,oBAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;aACtE;;;;;QACD,+CAAW;;;;YAAX,UAAY,KAAwB;gBAClC,OAAOC,eAAU,CAAC,KAAK,CAAC,CAAC;aAC1B;;;;;;;;;;;;;;;QAID,mDAAe;;;;;;;;;;;YAAf,UAAgB,MAAc,EAAE,gBAAwB,EAAE,gBAAwB,EAAE,kBAA0B,EAAE,kBAA0B;gBACxI,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;;;oBACnB,iBAAiB,GAAQ,gBAAgB;;;oBACzC,mBAAmB,GAAQ,kBAAkB;;;oBAC7C,mBAAmB,GAAQ,kBAAkB;;;oBAC7C,QAAQ,GAAG,UAAU,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;;;oBACnD,KAAK,GAAQ,UAAU,CAAC,mBAAmB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;;oBACvD,cAAc,GAAQ,CAAC,MAAM,GAAG,KAAK,IAAI,gBAAgB;;;oBACzD,iBAAiB,GAAQ,CAAC,CAAC,GAAG,KAAK,IAAI,gBAAgB;;oBACvD,oBAAoB,GAAG,UAAU,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;;oBAC5D,iBAAiB,GAAG,UAAU,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;;gBAElE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,QAAQ,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,YAAY,EAAE,KAAK,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,CAAC,CAAC;gBAC9P,OAAO,IAAI,CAAC,cAAc,CAAC;aAC5B;;oBAzCFC,aAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;;;wBANQC,aAAU;;;;wCADnB;KAKA;;;;;;;;;;;;;;;;;;;;;;;;"}
